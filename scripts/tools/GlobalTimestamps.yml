#
# Copyright (C) 2023 Intel Corporation
#
# SPDX-License-Identifier: MIT
#
# See YaML.md for syntax definition
#
--- #--------------------------------------------------------------------------
type: header
desc: "Intel $OneApi Level-Zero Tool Experimental Extension for Global Metrics Timestamps"
version: "1.5"
--- #--------------------------------------------------------------------------
type: macro
desc: "Global Metrics Timestamps Experimental Extension Name"
version: "1.5"
name: $T_GLOBAL_METRICS_TIMESTAMPS_EXP_NAME
value: '"$XT_experimental_global_metrics_timestamps"'
--- #--------------------------------------------------------------------------
type: enum
desc: "Global Metrics Timestamps Experimental Extension Version(s)"
version: "1.5"
name: $x_global_metrics_timestamps_exp_version_t
etors:
    - name: "1_0"
      value: "$X_MAKE_VERSION( 1, 0 )"
      desc: "version 1.0"
--- #--------------------------------------------------------------------------
type: function
desc: "Returns global device timestamps synchronized with metrics timesstamps, optionally mapped to host."
class: $tMetricGroup
name: GetTimestampsExp
decl: static
details:
    - "The application may call this function from simultaneous threads."
params:
    - type: "$t_metric_group_handle_t"
      name: hMetricGroup
      desc: "[in] handle of the metric group"
    - type: "$x_bool_t"
      name: mappedToHost
      desc: "[in] Are timestamps and metrics mapped to host, or device."
      init: "false"
    - type: uint32_t*
      name: pCount
      desc: |
            [in,out] pointer to the number of timestamps.
            if count is zero, then the driver shall update the value with the total number of timestamps available.
            if count is greater than the number of timestamps available, then the driver shall update the value with the correct number of timestamps.
    - type: "uint64_t*"
      name: globalTimestamps
      desc: |
            [in,out][optional][range(0, *pCount)] array of timestamp results.
            if count is less than the number of timestamps available, then driver shall only retrieve that number of timestamps.
    - type: "uint64_t*"
      name: metricTimestamps
      desc: |
            [in,out][optional][range(0, *pCount)] array of timestamp results.
            if count is less than the number of timestamps available, then driver shall only retrieve that number of timestamps.
